<div class="container">
   <div class="row">
      <div class="col-12 mb-3">
         <span class="float-end" style="cursor: pointer" [mat-dialog-close]="ticket"><i class="fas fa-times"></i></span>
      </div>
      <div class="col-12">
         <div class="rounded-top p-1 text-center" style="background-color: rgb(194, 199, 204);">
            <small>Informações do Ticket</small>
         </div>
         <div class="border border-top-0 rounded-bottom p-3">
            <div class="row">
               <mat-form-field class="col-12">
                  <mat-chip-list #chipList>
                     <mat-chip *ngFor="let member of ticket.assignedToPeople" [(ngModel)]="ticket.assignedToPeople" [selectable]="selectable" [removable]="removable" (removed)="removeChip(member)">
                        {{member.peopleName}}
                        <i class="fas fa-times mt-1" matChipRemove *ngIf="removable"></i>
                     </mat-chip>
                     <input placeholder="Membros" #memberInput [formControl]="memberCtrl" [matAutocomplete]="auto" [matChipInputFor]="chipList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes" [matChipInputAddOnBlur]="addOnBlur" (matChipInputTokenEnd)="addChip($event)">
                  </mat-chip-list>
                  <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectedChip($event)">
                     <mat-option *ngFor="let member of filteredMembers | async" [value]="member.peopleId">
                        {{member.peopleName}}
                     </mat-option>
                  </mat-autocomplete>
               </mat-form-field>

               <mat-form-field class="col-12 mt-1">
                  <textarea matInput placeholder="Descrição" [(ngModel)]="ticket.description"></textarea>
               </mat-form-field>

               <div class="col-12 mt-1 bg-body">
                  <div class="rounded-top p-1 text-center text-light" style="background-color: indigo;">
                     <small>Comentários</small>
                  </div>
                  <div class="border border-top-0 rounded-bottom p-3">
                     <div class="row">
                        <mat-form-field class="col-12">
                           <input type="text" matInput placeholder="Escrever um comentário..." #conversationInput [formControl]="conversationCtrl" (keypress)="addConversation($event)">
                        </mat-form-field>
                     </div>
                     <div class="d-flex text-muted pt-3" *ngFor="let conversation of ticket.conversation">
                        <svg class="bd-placeholder-img flex-shrink-0 me-2 rounded" width="32" height="32" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 32x32" preserveAspectRatio="xMidYMid slice" focusable="false">
                           <title>Placeholder</title>
                           <rect width="100%" height="100%" fill="#007bff"></rect><text x="50%" y="50%" fill="#007bff" dy=".3em">32x32</text>
                        </svg>

                        <p class="pb-1 mb-0 small lh-sm">
                           <strong class="d-block text-gray-dark">{{conversation.postedBy}}</strong>
                           {{conversation.text}}
                        </p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
